(function(){"use strict";const z="#wrapper{position:fixed;top:60px;right:60px;z-index:1000;width:340px;max-height:480px;background:#fff;border-radius:.25rem;box-shadow:0 0 6px #0000911a;border:1px solid #e5e5e5;display:flex;flex-direction:column;overflow:hidden;font-family:inherit}#header{display:none;justify-content:center;align-items:center;padding:12px 16px;background:transparent;border-bottom:1px solid #dfe2ea;min-height:48px;position:relative}.header-logo{height:25px;width:auto;object-fit:contain;display:block;margin:0 auto}#close{position:absolute;right:16px}#close{background:none;border:none;color:#64748b;cursor:pointer;font-size:36px;width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:background-color .2s}#close:hover{background-color:#f0f0f0}#close:focus{outline:2px solid #0a76f6}#footer{display:none;padding:16px;background:transparent;border-top:1px solid #dfe2ea;justify-content:flex-end}.ok-button{background:#3e5de7;color:#fff;border:none;border-radius:6px;padding:8px 16px;font-size:14px;font-weight:600;cursor:pointer;transition:background-color .2s;min-width:60px}.ok-button:hover{background:#1d4ed8}.ok-button:focus{outline:2px solid #0a76f6}#content{flex:1;padding:16px;display:flex;flex-direction:column;overflow-y:auto;min-height:0}.loading{display:flex;align-items:center;justify-content:center;padding:40px 20px;color:#666;font-size:14px}.error{display:flex;align-items:center;justify-content:center;padding:40px 20px;color:#dc3545;font-size:14px;text-align:center}.services-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:4px;justify-items:center}.service-card{background:transparent;text-align:center;transition:all .2s ease;position:relative;display:flex;flex-direction:column;align-items:center;width:100%}.service-card:hover{background-color:#eef1f4;border-radius:6px}.service-card a{position:relative;padding:8px;width:100%;text-decoration:none;display:block}.service-logo{width:42px;height:42px;object-fit:contain}.maturity-badge{position:absolute;top:40px;left:50%;transform:translate(-50%);background:#eef1f4;color:#2845c1;border-radius:12px;padding:2px 4px;font-size:9px;line-height:9px;font-weight:700;text-transform:uppercase;letter-spacing:.3px;white-space:nowrap}.service-info{display:flex;flex-direction:column;align-items:center;width:100%;padding-top:4px}.service-name{font-weight:600;font-size:14px;color:#1e40af;margin-bottom:2px;line-height:1.2;text-align:center}@media (max-width: 480px){#wrapper{width:100%;inset:0!important;border-radius:0;max-height:100vh}#header{height:40px;display:flex}.header-logo{height:35px}#footer{display:flex}.services-grid{grid-template-columns:repeat(3,1fr);gap:12px}.service-card{width:70px;padding:6px}.service-logo,.service-logo-placeholder{width:40px;height:40px}.service-name{font-size:11px}}#content::-webkit-scrollbar{width:4px}#content::-webkit-scrollbar-track{background:transparent}#content::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:2px}#content::-webkit-scrollbar-thumb:hover{background:#94a3b8}";function A(e,t,i){const s=`lasuite-widget-${e}-shadow`,d=document.getElementById(s);d&&d.remove();const n=document.createElement("div");n.id=s;const o=n.attachShadow({mode:"open"}),u=document.createElement("style");u.textContent=i;const a=document.createElement("div");return a.innerHTML=t,o.appendChild(u),o.appendChild(a),n}const x="lasuite-widget",l=(e,t,i,s)=>document.dispatchEvent(new CustomEvent(`${x}-${e}-${t}`,i?{detail:i}:void 0)),h=(e,t,i,s,d)=>{const n=o=>d(o.detail);return document.addEventListener(`${x}-${e}-${t}`,n,void 0),()=>document.removeEventListener(`${x}-${e}-${t}`,n,void 0)},v=2,_=e=>window._lasuite_widget?._loaded?.[e],T=(e,t)=>{window._lasuite_widget?._loaded&&(window._lasuite_widget._loaded[e]=t)},q=e=>{window._lasuite_widget||(window._lasuite_widget=[]);const t=window._lasuite_widget;if(t._loaded||(t._loaded={}),_(e)!==v){t.push=(...i)=>{for(const s of i)_(s[0])===v?l(s[0],s[1],s[2]):t[t.length]=s;return t.length},T(e,v);for(const i of t.splice(0,t.length))t.push(i)}l(e,"loaded")},D=e=>e.offsetWidth>0&&e.offsetHeight>0,F=(e,t,i)=>{const s=d=>{if(d.key!=="Tab")return;const n=Array.from(t.querySelectorAll(i)).filter(a=>D(a));if(n.length===0)return;const o=n[0],u=n[n.length-1];d.shiftKey&&e.activeElement===o?(d.preventDefault(),u.focus()):!d.shiftKey&&e.activeElement===u&&(d.preventDefault(),o.focus())};return t.addEventListener("keydown",s),()=>{t.removeEventListener("keydown",s)}},H=e=>{const t=i=>{i.key==="Escape"&&(i.preventDefault(),e())};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},r="lagaufre";h(r,"init",null,!1,async e=>{if(!e.api&&!e.data){console.error("Missing API URL");return}let t=!1,i="";e.headerLogo&&e.headerUrl&&(i=`<a href="${e.headerUrl}" target="_blank"><img src="${e.headerLogo}" alt="Logo" class="header-logo"></a>`);const s='<div id="wrapper" role="dialog" aria-modal="true" tabindex="-1"><div id="header">'+i+'<button id="close">&times;</button></div><div id="content"><div id="loading" class="loading">Loading services...</div><div id="services-container" class="services-container" style="display: none;"></div><div id="error" class="error" style="display: none;"></div></div><div id="footer"><button id="ok-button" class="ok-button">OK</button></div></div>',d=A(r,s,z),n=d.shadowRoot,o=n.querySelector("#wrapper"),u=n.querySelector("#loading"),a=n.querySelector("#services-container"),y=n.querySelector("#error"),C=n.querySelector("#close"),K=n.querySelector("#ok-button"),M=e.position||"fixed";let g=e.top;const m=e.bottom,w=e.left;let b=e.right;g===void 0&&m===void 0&&w===void 0&&b===void 0&&(g=60,b=60),o.style.position=M,o.style.top=typeof g=="number"?`${g}px`:"unset",o.style.bottom=typeof m=="number"?`${m}px`:"unset",o.style.left=typeof w=="number"?`${w}px`:"unset",o.style.right=typeof b=="number"?`${b}px`:"unset",e.fontFamily&&(o.style.fontFamily=e.fontFamily),e.background&&(o.style.background=e.background);const O=e.label||"Services",U=e.closeLabel||"Close the Services menu";o.setAttribute("aria-labelledby",O),C.setAttribute("aria-label",U),o.style.display="none";const k=c=>{u.style.display="none",a.style.display="none",y.style.display="block",y.textContent=c},S=c=>{u.style.display="none",y.style.display="none",a.style.display="block",a.innerHTML="";const p=document.createElement("div");p.className="services-grid",c.services.forEach(f=>{if(!f.logo)return;const $=document.createElement("div");$.className="service-card",$.innerHTML=`<a href="${f.url}" target="_blank"><img src="${f.logo}" alt="${f.name} logo" class="service-logo" aria-hidden="true" onerror="this.style.display='none'">`+(f.maturity&&f.maturity!=="stable"?`<div class="maturity-badge">${f.maturity}</div>`:"")+`<div class="service-info"><div class="service-name">${f.name}</div></div></a>`,p.appendChild($)}),a.appendChild(p)};if(e.data)S(e.data);else try{const p=await(await fetch(e.api,{method:"GET"})).json();p.error?k(`Error: ${JSON.stringify(p.error)}`):p.services&&p.services.length>0?S(p):k("No services found")}catch(c){k(`Failed to load services: ${c instanceof Error?c.message:"Unknown error"}`)}const j=c=>{d.contains(c.target)||l(r,"close")};let E=null,L=null;h(r,"open",null,!1,()=>{o.style.display="block",setTimeout(()=>{t=!0,document.addEventListener("click",j),o.focus()},200),E=F(n,o,"a,button"),L=H(()=>{l(r,"close")}),l(r,"opened")}),h(r,"close",null,!1,()=>{E&&E(),L&&L(),t&&(o.style.display="none",t=!1,document.removeEventListener("click",j),l(r,"closed"))}),h(r,"toggle",null,!1,()=>{t?l(r,"close"):l(r,"open")}),K.addEventListener("click",()=>{l(r,"close")}),C.addEventListener("click",()=>{l(r,"close")}),document.body.appendChild(d),l(r,"initialized"),e.open&&l(r,"open")}),q(r)})();
